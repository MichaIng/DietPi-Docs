# Release Notes

## May 2023 (version 8.17)

### Overview

The **May 6th, 2023** release of **DietPi v8.17** comes with a new software title `openHAB`, `Moonlight`, `Moonlight Qt` and a couple of improvements and bug fixes.

![Lilies of the valley](../assets/images/dietpi-release-v8_17.jpg){: width="480" height="320" loading="lazy"}

!!! cite "*Photo by `suju-foto`, Pixabay*"

### New software

- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**openHAB**](../software/home_automation.md/#openhab) :octicons-arrow-right-16: This long requested vendor and technology agnostic FLOSS home automation software has been finally added to DietPi. Many thanks to @just-jason and many others for requesting it and @MDAR for providing install instructions and valuable information: <https://github.com/MichaIng/DietPi/issues/3857>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**Moonlight (CLI)**](../software/gaming.md#moonlight-cli) :octicons-arrow-right-16: This CLI game streaming client for Sunshine and NVIDIA GameStream has been added to our software catalogue. Many thanks to @mtekman for implementing it: <https://github.com/MichaIng/DietPi/pull/6303>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**Moonlight (GUI)**](../software/gaming.md#moonlight-gui) :octicons-arrow-right-16: This GUI game streaming client for Sunshine and NVIDIA GameStream has been added to our software catalogue. Many thanks to @mtekman for implementing it: <https://github.com/MichaIng/DietPi/pull/6339>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**Restic**](../software/cloud.md#restic) :octicons-arrow-right-16: This fast, efficient and secure command-line backup program has been added to our software catalogue. Compared to the package available via APT, it is always the latest version. Many thanks to @goldfix for implementing it: <https://github.com/MichaIng/DietPi/pull/6350>

### Enhancements

- [**NanoPi R series**](../hardware.md#nanopi-series-friendlyelec) :octicons-arrow-right-16: Updated udev rules for the Ethernet LEDs to not lid the LEDs of disabled Ethernet devices. If an Ethernet device has been detected by the kernel/udev already and an LED is configured to light on link (connected cable), it lights until the interface is set up and no link is detected. So for disabled interfaces, some LEDs remained lit. The udev rules have now been changed to quickly set up and down the interfaces for the LEDs to remain off until an interface has been successfully configured.
- [**NanoPi R6S**](../hardware.md#nanopi-series-friendlyelec) :octicons-arrow-right-16: Since our image runs fine on NanoPi R6C as well, the device name in DietPi is now shown as "NanoPi R6S/R6C" to indicate this fact.
- [**ROCK Pi 4**](../hardware.md#radxa) :octicons-arrow-right-16: We followed Radxa and renamed the device to "ROCK 4", i.e. removed the "Pi" from its name.
- [**DietPi-Banner**](../dietpi_tools/misc_tools.md#dietpi-banner) :octicons-arrow-right-16: Added a new option to show the Let's Encrypt certificate status (expiry date), when installed via `dietpi-letsencrypt` or Certbot. Many thanks to @gary2002 for implementing this option: <https://github.com/MichaIng/DietPi/pull/6314>
- [**DietPi-Tools**](../dietpi_tools.md) | [**DietPi-LetsEncrypt**](../dietpi_tools/software_installation.md#dietpi-letsencrypt) :octicons-arrow-right-16: HTTP/2 is now enabled OOTB on Nginx when enabling HTTPS via `dietpi-letsencrypt`. Many thanks to [@Isti6github](https://dietpi.com/forum/u/Isti6github){: class="nospellcheck"} for bringing up this topic: <https://dietpi.com/forum/t/nextcloud-memories-http-2-or-http-3-is-strongly-recommended-http-1-1-detected-nginx/16753>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**MinIO**](../software/cloud.md#minio) :octicons-arrow-right-16: On fresh installs, the S3 API port will be 9004 from now on, to resolve a port conflict with Logitech Media Server. Furthermore the web access port (aka console port) will be set to 9001, as otherwise it will be randomly applied from a high port range, making reverse proxy and container setups impossible. Many thanks to [@din14970](https://dietpi.com/forum/u/din14970){: class="nospellcheck"} for reporting this issue: <https://dietpi.com/forum/t/configuring-https-for-minio-through-nginx/16775>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**Snapcast**](../software/media.md#snapcast-server) :octicons-arrow-right-16: The server and client install options have been enabled on ARMv8 and RISC-V, using the older but functional packages from the Debian repository.

### Bug fixes

- **General** :octicons-arrow-right-16: Resolved an issue where our recent images had the cron service masked accidentally after first run setup. Many thanks to [@Johannes](https://dietpi.com/forum/u/Johannes){: class="nospellcheck"} for reporting this issue: <https://dietpi.com/forum/t/cron-service-is-masked/16544>
- [**Raspberry Pi**](../hardware.md#raspberry-pi) :octicons-arrow-right-16: Resolved an issue where enabling the 3.5mm analogue onboard audio jack did not work if a HDMI device was attached, since due to a change with Linux 6.1 HDMI audio was not disabled correctly. Many thanks to [@Gale](https://dietpi.com/forum/u/Gale){: class="nospellcheck"} for reporting this issue: <https://dietpi.com/forum/t/no-audio-from-rpi-4b-headphone-jack/16538>
- [**Quartz64**](../hardware.md#pine64) :octicons-arrow-right-16: Resolved an issue where the kernel failed to load the WiFi regulatory database since the `cfg80211` module was builtin and hence loaded before the rootfs was mounted.
- **DietPi-Globals** :octicons-arrow-right-16: Resolved a DietPi v8.16 regression where wrong CPU temperatures were shown on some devices. Many thanks to @duledxb for reporting this issue: <https://github.com/MichaIng/DietPi/issues/6315>
- [**DietPi-Config**](../dietpi_tools/system_configuration.md#dietpi-config) :octicons-arrow-right-16: Audio: `firmware-sof-signed` required for functionality on some Intel devices, is now installed when selecting `intel-sst-dsp`: <https://github.com/MichaIng/DietPi/issues/6281#issuecomment-1500990841>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) :octicons-arrow-right-16: Resolved an issue where it was possible to install software titles via `AUTO_SETUP_INSTALL_SOFTWARE_ID` entries in `dietpi.txt` on unsupported platforms.
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**Home Assistant**](../software/home_automation.md#home-assistant) :octicons-arrow-right-16: Resolved an issue where to installation on 32-bit ARM systems failed since Python cryptography source builds do now require `pky-config`. Many thanks to [@retrofame](https://dietpi.com/forum/u/retrofame){: class="nospellcheck"} for reporting this issue: <https://dietpi.com/forum/t/unable-to-upgrade-home-assistant-to-2021-10-x/5823/7>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**HTPC Manager**](../software/bittorrent.md#htpc-manager)/[**Synapse**](../software/social.md#synapse) :octicons-arrow-right-16: Resolved an issue where to installation on 32-bit ARM Bookworm systems failed since Python cryptography source builds do now require `pky-config`.
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**microblog.pub**](../software/social.md#microblogpub) :octicons-arrow-right-16: Resolved an issue where the installation failed on 32-bit ARM devices since a Rust compiler is required for the cryptography Python module build. Many thanks to @kinoushe for reporting this issue: <https://github.com/MichaIng/DietPi/issues/6304>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**Home Assistant**](../software/home_automation.md#home-assistant)/[**HTPC Manager**](../software/bittorrent.md#htpc-manager)/[**microblog.pub**](../software/social.md#microblogpub)/[**Synapse**](../software/social.md#synapse) :octicons-arrow-right-16: Resolved an issue where the install on RPi 4 with 32-bit image failed since `rustup/cargo` tried to compile for 64-bit. The issue occurred since the 64-bit kernel is used on RPi 4 by default since Linux 6.1, even if the OS/userland is 32-bit. Many thanks to @josh3003 for reporting this issue: <https://github.com/MichaIng/DietPi/issues/6306>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**Home Assistant**](../software/home_automation.md#home-assistant) :octicons-arrow-right-16: Resolved an issue where the installation failed on 32-bit ARM systems due to newly required C++ compiler and FFmpeg libraries for compiling all required Python modules.
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**Google AIY**](../software/hardware_projects.md#google-aiy) :octicons-arrow-right-16: Resolved an issue where the install failed on ARMv7 systems due to conflicting Python module dependencies.
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**UrBackup**](../software/cloud.md#urbackup) :octicons-arrow-right-16: Resolved an issue where the installation failed since the use "latest" directory has been removed the download server. Many thanks to [@mikeruss1](https://dietpi.com/forum/u/mikeruss1){: class="nospellcheck"} for reporting this issue: <https://dietpi.com/forum/t/404-on-trying-to-install-urbackup/16744>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**SABnzbd**](../software/bittorrent.md#sabnzbd) :octicons-arrow-right-16: Resolved an issue where the service start failed on Buster systems since SABnzbd v4 does not support Python 3.7 anymore. The latest SABnzbd v3 is now installed instead on Buster systems. Many thanks to @githubchonger for reporting this issue: <https://github.com/sabnzbd/sabnzbd/issues/2545>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**SABnzbd**](../software/bittorrent.md#sabnzbd) :octicons-arrow-right-16: Resolved an issue where the install failed on RISC-V and ARMv6/7 Bookworm systems due to missing dependencies for Python module builds.
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | **UnRAR** :octicons-arrow-right-16: Resolved an issue where the install failed on RISC-V systems, since the non-free `unrar` package is not available for this architecture yet. `unrar-free` is now installed instead.
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**TasmoAdmin**](../software/home_automation.md#tasmoadmin) :octicons-arrow-right-16: Resolved an issue with Nginx and Lighttpd webservers where firmware updates failed as direct web access to the `firmwares` path was denied. Many thanks to @SimonPHP for reporting and fixing this issue: <https://github.com/MichaIng/DietPi/pull/6328>
- [**DietPi-Software**](../dietpi_tools/software_installation.md#dietpi-software) | [**phpMyAdmin**](../software/databases.md#phpmyadmin) :octicons-arrow-right-16: Resolved an issue where an older version could have been installed since there are still v4 maintenance releases which may be dated after the latest v5 release.

As always, many smaller code performance and stability improvements, visual and spelling fixes have been done, too much to list all of them here. Check out all code changes of this release on GitHub: <https://github.com/MichaIng/DietPi/pull/6361>
